SC.MODULE_INFO['steedos/account'].source = "SteedOS.AccountSettings=SC.Object.create({_accountSettingsPane:null,loadAccountSettings:function(){this._rememberPreviousPrefs();var b=this.getPath(\"panePage.panelPane\");b.append();if(!this._accountSettingsPane){SteedOS.AccountSettings.navigationController.push(SteedOS.AccountSettings.mainPage.get(\"mainView\"),NO)}this._accountSettingsPane=b;SteedOS.statechart.sendAction(\"accountSettingsOpen\")},loadFirstRunView:function(){this._rememberPreviousPrefs();var b=SteedOS.AccountSettings.FirstRunView.create();if(!AuthUI.firstRunView){AuthUI.set(\"firstRunView\",b)}AuthUI.authPane.authBadge.flipFlipSwitchTo(YES);this.invokeLast(function(){AuthUI.authPane.set(\"currentBadge\",\"firstRunBadge\")})},_rememberPreviousPrefs:function(){var j=COS.authController.get(\"accountPreferences\"),f=j.get(\"timeZone\"),g=j.get(\"locale\"),h=j.get(\"timezoneName\"),i=SteedOS.AccountSettings.timezonePickerViewController;this._lastTimeZone=f;this._lastLocale=g;if(!i.getPath(\"timezonePicker._timezoneToLoc\")[f]){SC.warn(\"AccountSettings: A bad timezone was found: %@. Resorting to default\",f);f=\"US/Pacific\";h=\"City.Cupertino - U.S.\"}i.set(\"selectedTimeZone\",f);i.set(\"selectedTimezoneName\",h)},_verifyPreviousPrefs:function(){var f=COS.authController.get(\"accountPreferences\"),d=f&&f.get(\"timeZone\"),e=f&&f.get(\"locale\");if(this._lastTimeZone!==d||this._lastLocale!==e){SC.debug(\"Locale or TimeZone changed, requesting to clear startup URLs\");f.set(\"startupUrls\",{})}},submitPrefsAndMeCard:function(n){var p=SteedOS.meCardController,u=SteedOS.AccountSettings.timezonePickerViewController,w=SteedOS.AccountSettings.languagePickerViewController,q=w.get(\"selectedLocale\"),m=u.get(\"selectedTimeZone\"),v=u.get(\"selectedTimezoneName\"),x=p.get(\"photo\"),r={},o=p.get(\"photoChanged\"),t=SteedOS.statechart.stateIsEntered(\"firstRun\");if(!m){CW.Alert.show({message:\"Error.TimeZoneMissing.Title\".loc(),description:\"Error.TimeZoneMissing.Description\".loc(),rightButton:\"Button.OK\".loc()})}if(x.url){r={photo:x}}if(o||t){p.storeMeCard(r);p.set(\"currentPhoto\",null);p.set(\"photoChanged\",NO)}var s=COS.authController.get(\"accountPreferences\");if(!s){SC.warn(\"No account preferences object exists when trying to store prefs and me-card!\");return}s.set(\"locale\",q);s.set(\"timeZone\",m);s.set(\"timezoneName\",v);this._verifyPreviousPrefs();s.commit(n)},removePane:function(){var f=this.languagePickerViewController.get(\"selectedLocale\"),g=SteedOS.authController.getPath(\"accountPreferences.locale\");this._accountSettingsPane.remove();if(f!==g){SteedOS.blockUserInput();var h=YES}var e=this;SteedOS.AccountSettings.submitPrefsAndMeCard(function(){var a=SteedOS.moduleLocalizer.setLocale();if(!a){if(h){SteedOS.unblockUserInput()}}else{if(!h){SteedOS.blockUserInput()}SC.Module.loadModule(\"steedos/language\",e,\"_didReloadLanguageModule\")}})},_didReloadLanguageModule:function(){SteedOS.localizationController.relocalizeIfNeeded(\"User Changed Language and Language Loaded\");SteedOS.unblockUserInput()},removePaneWithoutSaving:function(){this._accountSettingsPane.remove();SteedOS.meCardController.resetPhoto()}});SteedOS.AccountSettings.navigationController=CW.NavigationController.create({});SteedOS.AccountSettings.DeleteButton=CK.AddDeleteButton.extend({classNames:[\"delete-photo\"],buttonClicked:function(b){SteedOS.statechart.sendEvent(\"deletePhoto\")}});SteedOS.AccountSettings.AccountSettingsViewController=SC.Object.extend({selectLanguage:function(g){var f=g.owner,h=f.get(\"selection\"),e=f.cellForRowAtIndexPath(h);this._sectionedView=f;SteedOS.AccountSettings.languagePickerViewController.displayLanguagePicker(e,this,\"_finalizePicker\")},selectTimeZone:function(h){var g=h.owner,j=g.get(\"selection\"),f=g.cellForRowAtIndexPath(j),i=f.get(\"accessoryView\");i.notifyPropertyChange(\"value\",i.get(\"value\"));this._sectionedView=g;SteedOS.AccountSettings.timezonePickerViewController.displayTimezonePicker(f,i,this,\"_finalizePicker\");i.becomeFirstResponder()},_finalizePicker:function(){var b=this._sectionedView;this._sectionedView=null;if(b){b.clearSelection()}},viewNotificationsSettings:function(){var b=SteedOS.AccountSettings.navigationController;b.push(SteedOS.AccountSettings.notificationsPage.get(\"mainView\"))},viewAdvancedSettings:function(){var b=SteedOS.AccountSettings.navigationController;b.push(SteedOS.AccountSettings.advancedPage.get(\"mainView\"))},viewMainSettings:function(){var c=SteedOS.AccountSettings.mainPage.get(\"sectionedView\");c.clearSelection();var d=SteedOS.AccountSettings.navigationController;d.pop()},viewAppleAccount:function(){window.open(\"AppleID.URL\".loc(),\"appleIDWindow\")},nukePhotoStream:function(){CW.Alert.create({message:\"Account.Settings.NukePhotoStreamAlert.Message\".loc(),description:\"Account.Settings.NukePhotoStreamAlert.Description\".loc(),middleButton:\"Button.Cancel\".loc(),rightButton:{title:\"Account.Settings.NukePhotoStreamAlert.Reset\".loc(),action:\"askForPassword\"},askForPassword:function(){this.remove();var b=this;SteedOS.statechart.sendAction(\"showSecondaryAuth\",{successState:\"active.springboard.displayingSpringboard.AccountSettingsOpen\",cancelState:\"active.springboard.displayingSpringboard.AccountSettingsOpen\",successCallback:function(){this.reset()},cancelCallback:function(){this.remove()},target:this})},reset:function(){var f=CK.servicesController.getServiceInfoFor(\"streams\"),e,d;if(!f||!(e=f.url)){return this.receivedReply()}d=CK.Request.postUrl(SteedOS.authController.getPath(\"user.dsid\")+\"/streams/webreset\");d.set(\"serviceName\",\"streams\");d.set(\"isJSON\",YES);d.queryParameter(\"dsid\",null);d.queryParameter(\"id\",null);d.notify(this,\"receivedReply\");d.send()},receivedReply:function(b){if(b&&b.status===200){CW.Alert.show({message:\"Account.Settings.NukePhotoStreamAlert.Success.Message\".loc(),description:\"Account.Settings.NukePhotoStreamAlert.Success.Description\".loc(),rightButton:\"Button.OK\".loc()})}else{CW.Alert.show({message:\"Account.Settings.NukePhotoStreamAlert.Error.Message\".loc(),description:\"Account.Settings.NukePhotoStreamAlert.Error.Description\".loc(),rightButton:\"Button.OK\".loc()})}return YES}}).append()}});SteedOS.AccountSettings.firstRunMasterSectionedViewController=SteedOS.AccountSettings.AccountSettingsViewController.create();SteedOS.AccountSettings.masterSectionedViewController=SteedOS.AccountSettings.AccountSettingsViewController.create({});SteedOS.AccountSettings.languagePickerViewController=SC.Object.create({_languages:function(){var i=[{locName:\"English\",dispName:\"English\",locale:\"en-us\"},{locName:\"Chinese\",dispName:\"简体中文\",locale:\"zh-cn\"},];var j=window.supportedLocales,k=[],l,g,h;for(l=0,g=i.length;l<g;l++){if(j.indexOf(i[l].locale)!==-1){k.push(SC.Object.create(i[l]))}}return k}(),_localeIndex:function(){var c={};for(var d=0;d<this._languages.length;d++){c[this._languages[d][\"locale\"]]=d}return c}.property(\"_languages\"),_languagePickerPane:null,_languagePickerView:null,selectedLocale:\"en-us\",selectedLanguage:function(){var h=this.get(\"selectedLocale\"),g=this._languages,e,f;for(e=0,f=g.length;e<f;e++){if(g[e].locale===h){return g[e].dispName}}}.property(\"selectedLocale\").cacheable(),displayLanguagePicker:function(f,h,e){var g=CW.iOSPickerPane.create({layout:{centerX:0,centerY:0,width:300,height:305},themeName:\"iOS\",classNames:\"iOS-blue\".w(),removeTarget:this,removeAction:\"_closePicker\",contentView:CW.BorderView.design({childViews:[\"sectionedView\"],classNames:\"cw-navigation-well\".w(),layout:{top:13,left:7,right:7,bottom:7},sectionedView:CW.SectionedView.design(CW.MiniFadingCaplessScrollerViewSupport,CW.SectionedViewDesignSupport,{layout:{top:2,left:0,right:0,bottom:0},horizontalScrollerView:CW.MiniFadingCaplessScrollerView,verticalScrollerView:CW.MiniFadingCaplessScrollerView,style:CW.SectionedViewStyle.create({contentLayout:{top:10,left:10,right:10,bottom:10},classNames:[\"cw-grouped\"]}),sections:\"languagesSection\".w(),languagesSection:CW.SectionedViewCollectionSection.design({content:this._languages,contentTextKey:\"dispName\",selectionBinding:\"SteedOS.AccountSettings.languagePickerViewController._selectedLanguageController.content\",target:this,action:\"_closePicker\"})})})});this._closeTarget=h;this._closeAction=e;this._languagePickerPane=g;this._languagePickerView=f;g.popup(f,SC.PICKER_POINTER,[0,3,1,2,0])},_closePicker:function(){this._languagePickerPane.remove();var d=this._closeTarget,e=this._closeAction;if(d&&e){var f=e;if(SC.typeOf(f)!==SC.T_FUNCTION){f=d[e]}if(SC.typeOf(f)===SC.T_FUNCTION){f.call(d)}}this._closeTarget=null;this._closeAction=null},_selectedLanguageController:SC.Object.create({content:null,locale:null,localeBinding:\"SteedOS.AccountSettings.languagePickerViewController.selectedLocale\",_localDidChange:function(){var b=this.get(\"locale\");this.set(\"content\",this._langugeObjectForLocale(b))}.observes(\"locale\"),_contentDidChange:function(){var b=this.get(\"content\");this.set(\"locale\",b?b.get(\"locale\"):null)}.observes(\"content\"),_langugeObjectForLocale:function(f){var i=SteedOS.AccountSettings.languagePickerViewController._languages;for(var j=0,g=i.length;j<g;j+=1){var h=i[j];if(h.get(\"locale\")===f){return h}}return null}})});SteedOS.AccountSettings.notificationsViewController=SC.Object.create({pushApps:function(){var n=COS.pushController.get(\"pushApps\"),p=COS.appsController,u=[],z=[],s=COS.authController.get(\"accountPreferences\"),x=s.get(\"viewPushNotifications\"),w=YES,t,o,q,v,y;var r=SteedOS.displayApps;for(q=0,v=r.length;q<v;q++){t=r[q].name;if(n.indexOf(t)!==-1&&p.getAppInfoFor(t).get(\"hasPushUI\")){z.push(t)}}for(q=0,v=z.length;q<v;q++){t=z[q];y=SteedOS.appManagerFor(t);w=YES;if(x&&x[t]===NO){w=NO}else{if(!x){x={}}}u.push({text:\"AppTitle.%@\".fmt(t).loc(),value:w,image:y.get(\"notificationIcon\"),appName:t})}return u}.property().cacheable(),didSwitchApp:function(f,g){var h=COS.authController.get(\"accountPreferences\"),e=h.get(\"viewPushNotifications\");e[f]=g;h.set(\"viewPushNotifications\",SC.clone(e));SC.warn(\"@@ didSwitchAppg ...\");CW.notificationCenter.postNotification(\"notificationsPreferenceDidChange\",f,g)}});SteedOS.AccountSettings.timezonePickerViewController=SC.Object.create({init:function(){arguments.callee.base.apply(this,arguments)},timezonePicker:null,selectedTimeZoneBinding:\".timezonePicker.selectedTimeZone\",selectedTimezoneNameBinding:\".timezonePicker.selectedTimezoneName\",displayTimezonePicker:function(f,h,i,j){this.set(\"accessory\",h);var g=this.get(\"timezonePicker\");g.set(\"closeTarget\",i);g.set(\"closeAction\",j);g.show(f,this.get(\"selectedTimeZone\"),this.get(\"selectedTimezoneName\"),this,\"timezoneWasSelected\")},timezoneWasSelected:function(d,c){this.set(\"selectedTimeZone\",d);this.set(\"selectedTimezoneName\",c)},timezoneNameDidChange:function(){if(this.get(\"accessory\")){this.get(\"accessory\").set(\"value\",this.getPath(\"timezonePicker.displayName\"))}}.observes(\"selectedTimezoneName\"),displayName:function(){var c=this.get(\"selectedTimeZone\");var d=this.getPath(\"timezonePicker._timezoneToLoc\")[c];if(d){return d.loc()}}.property(\"selectedTimeZone\",\"selectedTimezoneName\")});SteedOS.AccountSettings.advancedPage=SC.Page.design({sectionedView:SC.outlet(\"mainView.sectionedView\"),mainView:CW.NavigatableView.design({childViews:\"sectionedView\".w(),hasLeftBarButton:YES,leftBarButtonTitleBinding:SC.Binding.oneWay(\"SteedOS.authController.user.steedosId\"),leftBarButtonTheme:\"navigationBarSilverBack\",leftBarButtonTarget:SteedOS.AccountSettings.masterSectionedViewController,leftBarButtonAction:\"viewMainSettings\",title:\"Account.Settings.Advanced.AccountTitle\".loc(),sectionedView:CW.SectionedView.design(CW.SectionedViewDesignSupport,CW.MiniFadingCaplessScrollerViewSupport,{selectStart:function(){return YES},mouseDown:function(c){var d=arguments.callee.base.apply(this,arguments);if(this.$(\".cw-detail-text\").within(c.target)){return NO}return d},mouseUp:function(c){var d=arguments.callee.base.apply(this,arguments);if(this.$(\".cw-detail-text\").within(c.target)){return NO}return d},classNames:[\"advanced-settings\"],horizontalScrollerView:CW.MiniFadingCaplessScrollerView,verticalScrollerView:CW.MiniFadingCaplessScrollerView,style:CW.SectionedViewStyle.GROUPED,})})});SteedOS.AccountSettings.LanguagePicker=SC.LabelView.extend({classNames:[\"cos-language-picker\"],textAlign:SC.ALIGN_RIGHT,valueBinding:\"SteedOS.AccountSettings.languagePickerViewController.selectedLanguage\"});sc_require(\"views/language_picker_view\");SteedOS.AccountSettings.LanguageCell=CW.SectionedViewCell.extend({style:CW.SectionedViewCellStyle.TEXT_FIELD,text:\"Account.FirstRun.Language\".loc(),selectionStyle:CW.SectionedViewCellSelectionStyle.NONE,classNames:[\"first-run-text\"],accessoryView:SteedOS.AccountSettings.LanguagePicker.extend({init:function(){arguments.callee.base.apply(this,arguments);var g=SteedOS.AccountSettings.languagePickerViewController,h=COS.authController.getPath(\"accountPreferences.locale\"),f=String.preferredLanguage;var e=g._languages.map(function(a){return a.locale.toLowerCase()});if(f&&e.indexOf(f.toLowerCase())!=-1){g.set(\"selectedLocale\",f)}else{g.set(\"selectedLocale\",\"en-us\")}},classNames:[\"first-run-text\"],layout:{left:100}})});SteedOS.AccountSettings.TimezoneTextField=SC.TextFieldView.extend({viewController:null,classNames:[\"cos-timezone-picker\"],applyImmediately:YES,init:function(){arguments.callee.base.apply(this,arguments);this.set(\"value\",COS.authController.getPath(\"accountPreferences.timeZone\"));var b=this.get(\"viewController\");if(!b){throw\"You must set a viewController for TimezoneTextField\"}b.set(\"textFieldView\",this)},toString:function(){return\"SteedOS.AccountSettings.TimezoneTextField\"},didBecomeFirstResponder:function(){var b=this;this.invokeLater(function(){this.$(\"input\").select()});return arguments.callee.base.apply(this,arguments)},willLoseFirstResponder:function(b){SteedOS.AccountSettings.timezonePickerViewController.removeTimezonePicker();return arguments.callee.base.apply(this,arguments)}});sc_require(\"views/timezone_picker_view\");SteedOS.AccountSettings.TimeZoneCell=CW.SectionedViewCell.extend({style:CW.SectionedViewCellStyle.TEXT_FIELD,text:\"Account.FirstRun.TimeZone\".loc(),selectionStyle:CW.SectionedViewCellSelectionStyle.NONE,classNames:[\"first-run-text\"],accessoryView:SC.LabelView.extend(SC.AutoResize,{shouldResizeWidth:NO,shouldAutoFitText:YES,autoResizePadding:0,maxFontSize:16,minFontSize:8,calculatedFontSize:16,classNames:[\"first-run-text\"],valueBinding:\"SteedOS.AccountSettings.timezonePickerViewController.displayName\",layout:{left:135},textAlign:SC.ALIGN_RIGHT})});SteedOS.AccountSettings.PhotoIconView=SC.View.extend(CW.DropTarget,{dimensions:{width:132,height:132},layout:{left:0,top:0},init:function(){this.layout=SC.clone(this.layout);this.layout.width=this.dimensions.width;this.layout.height=this.dimensions.height+1;arguments.callee.base.apply(this,arguments)},acceptsFileDrags:YES,acceptsFirstResponder:YES,classNames:\"photo-icon\".w(),childViews:[\"imageView\",\"addPhotoView\",\"editPhotoView\"],allowedFileTypes:[\"png\",\"jpeg\",\"bmp\",\"gif\"],imageView:CK.Photo.PhotoIconCanvasView.extend({editView:{image:window.devicePixelRatio===2?\"../../../../system/steedos/4330/steedos/account/4330/zh-cn/source/resources/images/avatar_edit_shade_130x130@2x.png\":\"../../../../system/steedos/4330/steedos/account/4330/zh-cn/source/resources/images/avatar_edit_shade_130x130.png\",rect:{x:0,y:0}},useImageQueue:YES,classNames:[\"inner-image\"],layout:{left:0,top:0},valueBinding:\"SteedOS.meCardController.photoUrl\",photoCropBinding:\"SteedOS.meCardController.photoCrop\",init:function(){var c=SC.clone(this.owner.dimensions);this.dimensions=c;this.editView=SC.clone(this.editView);var d=SC.clone(this.editView.rect);this.editView.rect=d;d.width=c.width;d.height=c.height;arguments.callee.base.apply(this,arguments)},staticImage:SteedOS.meCardController.NO_PHOTO_SRC,boundaryRadius:10,imgLoadErrorBinding:\"SteedOS.meCardController.imgLoadError\"}),addPhotoView:SC.View.design({classNames:[\"add-photo\"],textAlign:SC.ALIGN_CENTER,value:\"Account.FirstRun.PhotoIcon.AddPhoto\".loc(),isVisibleBinding:SC.Binding.not(\"SteedOS.meCardController.isPhotoUrlValid\"),render:function(d,c){d.push('<table border=\"0\" width=\"100%\" height=\"100%\" valign=\"center\">','<tr><td align=\"center\" style=\"text-align:center;border:none\">',SC.RenderContext.escapeHTML(this.get(\"value\")).replace(/\\\\n/g,\"<br>\"),\"</td></tr></table>\")}}),editPhotoView:SC.LabelView.design({layout:{centerX:0,bottom:0,height:30},init:function(){this.layout=SC.clone(this.layout);this.layout.width=this.owner.dimensions.width;arguments.callee.base.apply(this,arguments)},classNames:[\"edit-text\"],textAlign:SC.ALIGN_CENTER,value:\"Account.FirstRun.PhotoIcon.EditPhoto\".loc(),isVisible:NO}),computeDragOperations:function(c,d){return SC.DRAG_DATA},performDragOperation:function(o,j){if(o.data){if(CK.Photo.isFileDroppedAValidImage(o.data[0],this.get(\"allowedFileTypes\"))){this.mouseUp(j,o)}else{var k=SteedOS.meCardController,n=k.get(\"meCard\"),p=k.get(\"photoUrl\"),l=k.get(\"photoCrop\"),m=SC.browser.isSafari,r=SC.browser.isIE,q={evt:j,sender:this,photoUrl:p,photoCrop:l,target:SteedOS.meCardController,action:\"completePhotoPicker\",alertIcon:\"me-icon-alert-68\",errorCode:CK.Photo.PHOTO_INVALID_FORMAT,maximumUploadFileSize:AuthUI.MAXIMUM_UPLOAD_FILE_SIZE};SteedOS.statechart.sendAction(\"editPhoto\",q)}}this.$().removeClass(\"hovering\")},dragEntered:function(c,d){this.$().addClass(\"hovering\");return YES},dragExited:function(c,d){this.$().removeClass(\"hovering\");return YES},mouseDown:function(b){this.becomeFirstResponder();return YES},mouseUp:function(m,r,x){var n=SteedOS.meCardController,q=n.get(\"meCard\"),s=n.get(\"photoUrl\"),o=n.get(\"photoCrop\"),p=SC.browser.isSafari,w=SC.browser.isIE,t={evt:m,sender:this,photoUrl:s,photoCrop:o,target:SteedOS.meCardController,action:\"completePhotoPicker\",alertIcon:\"me-icon-alert-68\",maximumUploadFileSize:AuthUI.MAXIMUM_UPLOAD_FILE_SIZE,errorCode:CK.Photo.PHOTO_NO_ERROR};if(!r){if(m.clickCount===2){return}this.resignFirstResponder();SteedOS.statechart.sendAction(\"editPhoto\",t)}else{this.set(\"isKeyResponder\",YES);var v=r.data[0],u=r.fileSize||v.fileSize||v.size;if(x){t.errorCode=r.data[0];SteedOS.statechart.sendAction(\"editPhoto\",t)}else{if(!u||u<AuthUI.MAXIMUM_UPLOAD_FILE_SIZE){t.newImage=v;SteedOS.statechart.sendAction(\"editPhoto\",t)}else{t.errorCode=CK.Photo.PHOTO_SIZE_TOO_BIG;SteedOS.statechart.sendAction(\"editPhoto\",t)}}}return YES},photoUrlValidBinding:SC.Binding.oneWay(\"SteedOS.meCardController.isPhotoUrlValid\"),setEditOverlayVisibility:function(f){var e=this.get(\"imageView\"),d=this.get(\"editPhotoView\");if(e&&d){e.set(\"editViewIsVisible\",f);d.set(\"isVisible\",f)}},mouseEntered:function(b){if(this.photoUrlValid){this.setEditOverlayVisibility(YES)}return YES},mouseExited:function(b){this.setEditOverlayVisibility(NO);return YES},didCreateLayer:function(b){b();CW.notificationCenter.subscribeToNotification(\"activeXFileDropped\",this,\"activeXFileDropped\");CW.notificationCenter.subscribeToNotification(\"activeXFileDragged\",this,\"activeXFileDragged\");CW.notificationCenter.subscribeToNotification(\"activeXFileDragEnded\",this,\"dragExited\")}.enhance(),pointInFrame:function(d){if(!this.get(\"owner\")){return NO}var c=this.get(\"owner\").convertFrameToView(this.get(\"frame\"),null);return SC.pointInRect(d,c)},activeXFileDropped:function(d){if(SteedOS.isPhotoPickerOpen()){return}var e=this.pointInFrame({x:d.x,y:d.y}),f=CK.Photo.isFileDroppedAValidImage(d,this.get(\"allowedFileTypes\"));if(e){if(f){this.mouseUp(null,{data:[d.fileData],fileSize:d.fileSize})}else{this.mouseUp(null,{data:[d.errorCode]},YES)}}},activeXFileDragged:function(b){if(this.pointInFrame(b)&&!this._dragEntered){this.dragEntered();this._dragEntered=YES}else{if(this._dragEntered&&!this.pointInFrame(b)){this.dragExited();this._dragEntered=NO}}}});sc_require(\"views/language_cell\");sc_require(\"views/time_zone_cell\");sc_require(\"views/photo_icon_view\");SteedOS.AccountSettings.FirstRunView=SC.View.extend({childViews:\"sectionedView doneButton\".w(),themeName:\"iOS\",sectionedView:CW.SectionedView.design(CW.MiniFadingCaplessScrollerViewSupport,CW.SectionedViewDesignSupport,{init:function(){if(!SteedOS.authController.get(\"needSimpleAccountUI\")){return arguments.callee.base.apply(this,arguments)}this.headerHeight=176;this.headerView=SC.View.design({layout:{left:0,top:0,right:0,height:176},render:function(b){b.push('<div class=\"simple-firstrun-steedos-logo\"></div>');b.push('<div class=\"simple-firstrun-header-text\">'+\"Account.SimpleFirstRun.ChooseYourLanguage\".loc()+\"</div>\")}});this.sections=\"languageSection\".w();this.timeZoneSection=null;arguments.callee.base.apply(this,arguments)},layout:{left:2,right:2},rowHeight:CW.SectionedView.prototype.rowHeight-1,horizontalScrollerView:CW.MiniFadingCaplessScrollerView,verticalScrollerView:CW.MiniFadingCaplessScrollerView,style:CW.SectionedViewStyle.create({contentLayout:{top:20,left:10,right:10,bottom:12},sectionSpacing:12,rowsContainerPadding:{bottom:0},classNames:[\"cw-grouped\",\"first-run-sectioned-view\"]}),headerHeight:140,headerView:SC.View.design({childViews:\"deleteButton photoPicker\".w(),classNames:\"overflow-always-visible\".w(),deleteButton:SteedOS.AccountSettings.DeleteButton.design({layout:{left:78,height:30,top:-13,width:28},isVisible:NO,buttonClicked:function(c){var d=this.getPath(\"parentView.photoPicker\");if(d){this.set(\"isVisible\",NO);d.setEditOverlayVisibility(NO)}return arguments.callee.base.apply(this,arguments)},mouseEntered:function(d){var c=this.getPath(\"parentView.photoPicker\");if(c){this.set(\"isVisible\",YES);c.setEditOverlayVisibility(YES)}return YES},mouseExited:function(g){var h=g.pageX,j=g.pageY,f=this.getPath(\"parentView.photoPicker\"),i={x:h,y:j};if(f){if(!f.pointInFrame(i)){f.setEditOverlayVisibility(NO);this.set(\"isVisible\",NO)}}return YES}}),photoPicker:SteedOS.AccountSettings.PhotoIconView.design({theme:\"iosPhoto\",layout:{centerX:0,top:0},dimensions:{width:120,height:120},photoUrlValidBinding:SC.Binding.oneWay(\"SteedOS.meCardController.isPhotoUrlValid\"),mouseEntered:function(b){if(this.photoUrlValid&&this.getPath(\"parentView.deleteButton\")){this.parentView.deleteButton.set(\"isVisible\",YES)}return arguments.callee.base.apply(this,arguments)},mouseExited:function(b){if(this.getPath(\"parentView.deleteButton\")){this.parentView.deleteButton.set(\"isVisible\",NO);return arguments.callee.base.apply(this,arguments)}}})}),sections:\"languageSection timeZoneSection\".w(),languageSection:CW.SectionedViewSection.design({rows:\"mainRow\".w(),classNames:\"language-section\".w(),mainRow:CW.SectionedViewRow.design({selectedTarget:SteedOS.AccountSettings.firstRunMasterSectionedViewController,selectedAction:\"selectLanguage\",cell:SteedOS.AccountSettings.LanguageCell})}),timeZoneSection:CW.SectionedViewSection.design({rows:\"mainRow\".w(),classNames:\"timezone-section\".w(),mainRow:CW.SectionedViewRow.design({selectedTarget:SteedOS.AccountSettings.firstRunMasterSectionedViewController,selectedAction:\"selectTimeZone\",cell:SteedOS.AccountSettings.TimeZoneCell})})}),doneButton:SteedOS.ButtonView.design({layout:{height:47,bottom:12,left:12,right:12},themeName:\"firstRunDoneButton\",title:\"Account.FirstRun.Button.Done\".loc(),isEnabledBinding:\"SteedOS.meCardController.meCardRequirementSatisfied\",action:function(b){SteedOS.statechart.sendAction(\"userDidSubmit\")}})});sc_require(\"views/photo_icon_view\");SteedOS.AccountSettings.mainPage=SC.Page.design({sectionedView:SC.outlet(\"mainView.sectionedView\"),mainView:CW.NavigatableView.design({childViews:\"sectionedView\".w(),hasLeftBarButton:YES,leftBarButtonTitle:\"Account.Settings.Main.Help\".loc(),leftBarButtonTheme:\"navigationBarSilver\",leftBarButtonTarget:SteedOS.statechart,leftBarButtonAction:\"help\",title:\"Account.Settings.Main.AccountTitle\".loc(),hasRightBarButton:YES,rightBarButtonTitle:\"Account.Settings.Main.Done\".loc(),rightBarButtonTheme:\"navigationBarSilverDone\",rightBarButtonTarget:SteedOS.statechart,rightBarButtonAction:\"removePane\",sectionedView:CW.SectionedView.design(CW.SectionedViewDesignSupport,CW.MiniFadingCaplessScrollerViewSupport,{horizontalScrollerView:CW.MiniFadingCaplessScrollerView,verticalScrollerView:CW.MiniFadingCaplessScrollerView,style:CW.SectionedViewStyle.GROUPED,init:function(){if(!SteedOS.authController.get(\"needSimpleAccountUI\")){return arguments.callee.base.apply(this,arguments)}this.headerHeight=192;this.sections=\"basicSetupSection viewAppleAccountSection\".w();this.advancedSetupSection=null;arguments.callee.base.apply(this,arguments)},headerHeight:160,headerView:SC.View.design({init:function(){if(!SteedOS.authController.get(\"needSimpleAccountUI\")){return arguments.callee.base.apply(this,arguments)}this.childViews=[];this.deleteButton=this.photoPicker=null;this.render=function(b){b.push('<div class=\"simple-accountsettings-steedos-logo\"></div>')};this.update=function(){};arguments.callee.base.apply(this,arguments)},childViews:\"deleteButton photoPicker\".w(),deleteButton:SteedOS.AccountSettings.DeleteButton.design({layout:{left:159,height:30,top:1,width:28},isVisible:NO,buttonClicked:function(c){var d=this.getPath(\"parentView.photoPicker\");if(d){this.set(\"isVisible\",NO);d.setEditOverlayVisibility(NO)}return arguments.callee.base.apply(this,arguments)},mouseEntered:function(d){var c=this.getPath(\"parentView.photoPicker\");if(c){this.set(\"isVisible\",YES);c.setEditOverlayVisibility(YES)}return YES},mouseExited:function(g){var h=g.pageX,j=g.pageY,f=this.getPath(\"parentView.photoPicker\"),i={x:h,y:j};if(f){if(!f.pointInFrame(i)){f.setEditOverlayVisibility(NO);this.set(\"isVisible\",NO)}}return YES}}),photoPicker:SteedOS.AccountSettings.PhotoIconView.design({theme:\"iosPhoto\",layout:{centerX:0,top:14},photoUrlValidBinding:SC.Binding.oneWay(\"SteedOS.meCardController.isPhotoUrlValid\"),mouseEntered:function(b){if(this.photoUrlValid&&this.getPath(\"parentView.deleteButton\")){this.parentView.deleteButton.set(\"isVisible\",YES)}return arguments.callee.base.apply(this,arguments)},mouseExited:function(b){if(this.getPath(\"parentView.deleteButton\")){this.parentView.deleteButton.set(\"isVisible\",NO);return arguments.callee.base.apply(this,arguments)}}})}),sections:\"basicSetupSection advancedSetupSection viewAppleAccountSection\".w(),basicSetupSection:CW.SectionedViewSection.design({init:function(){if(!SteedOS.authController.get(\"needSimpleAccountUI\")){return arguments.callee.base.apply(this,arguments)}this.rows=\"languageRow\".w();this.timeZoneRow=null;arguments.callee.base.apply(this,arguments)},rows:\"languageRow timeZoneRow\".w(),languageRow:CW.SectionedViewRow.design({selectedTarget:SteedOS.AccountSettings.masterSectionedViewController,selectedAction:\"selectLanguage\",cell:SteedOS.AccountSettings.LanguageCell}),timeZoneRow:CW.SectionedViewRow.design({selectedTarget:SteedOS.AccountSettings.masterSectionedViewController,selectedAction:\"selectTimeZone\",cell:SteedOS.AccountSettings.TimeZoneCell})}),advancedSetupSection:CW.SectionedViewSection.design({rows:\"notificationsRow\".w(),notificationsRow:CW.SectionedViewRow.design({text:\"Account.Settings.Main.Notifications\".loc(),accessoryType:CW.SectionedViewCellAccessoryType.DISCLOSURE_INDICATOR,selectedTarget:SteedOS.AccountSettings.masterSectionedViewController,selectedAction:\"viewNotificationsSettings\"})}),viewAppleAccountSection:CW.SectionedViewButtonSection.design({selectedTarget:SteedOS.AccountSettings.masterSectionedViewController,selectedAction:\"viewAppleAccount\",titleBinding:SC.Binding.transform(function(b){return\"Account.Settings.Main.AppleID\".loc(b)}).oneWay(\"SteedOS.authController.user.displaySteedOSId\")})})})});SteedOS.AccountSettings.notificationsPage=SC.Page.design({sectionedView:SC.outlet(\"mainView.sectionedView\"),mainView:CW.NavigatableView.design({childViews:\"sectionedView\".w(),hasLeftBarButton:YES,leftBarButtonTitleBinding:SC.Binding.oneWay(\"SteedOS.authController.user.steedosId\"),leftBarButtonTheme:\"navigationBarSilverBack\",leftBarButtonTarget:SteedOS.AccountSettings.masterSectionedViewController,leftBarButtonAction:\"viewMainSettings\",title:\"Account.Settings.Notifications.AccountTitle\".loc(),sectionedView:CW.SectionedView.design(CW.SectionedViewDesignSupport,CW.MiniFadingCaplessScrollerViewSupport,{classNames:[\"notifications-settings\"],horizontalScrollerView:CW.MiniFadingCaplessScrollerView,verticalScrollerView:CW.MiniFadingCaplessScrollerView,style:CW.SectionedViewStyle.GROUPED,sections:[\"notificationSwitches\"],notificationSwitches:CW.SectionedViewCollectionSection.design({headerTitle:\"Account.Settings.Notifications.SectionTitle\".loc(),autoResizeHeaderTitle:YES,allowsSelection:NO,itemCellExample:CW.SectionedViewCollectionItemCell.extend(CW.SwitcherAccessoryViewSupport,{valueBinding:\".content.value\",action:function(){var b=this.getPath(\"parentView.content.appName\");SteedOS.AccountSettings.notificationsViewController.didSwitchApp(b,this.get(\"value\"))}}),contentBinding:\"SteedOS.AccountSettings.notificationsViewController.pushApps\"})})})});SteedOS.AccountSettings.panePage=SC.Page.design({panelPane:CW.PanelPane.design(CW.Animatability,CW.PaneAnimationSupport,CW.SpritePreloadEnforcement,CW.DropTarget,{acceptsFileDrags:NO,keyboardShortcuts:{escape:{target:SteedOS.statechart,action:\"removePaneWithoutSaving\"},\"return\":{target:SteedOS.statechart,action:\"removePane\"}},layout:{centerX:0,width:537,height:480},init:function(){if(CW.isMobile()){this.layout={left:10,right:10,top:10,bottom:10}}arguments.callee.base.apply(this,arguments)},themeName:\"iOS\",hasNavigationBar:YES,windowResized:function(c,d){if(this._lastOSP===(this._lastOSP=this.get(\"onscreenPosition\"))){return}this.adjust(\"centerY\",this._lastOSP)}.observes(\"currentWindowSize\"),onscreenPosition:function(){var b=this.get(\"currentWindowSize\")||{height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||2000};return Math.round(Math.max(0,this.get(\"frame\").height/2-b.height/2))}.property(\"currentWindowSize\"),modalPane:SC.ModalPane.extend(CW.Animatability,CW.PaneAnimationSupport,{classNames:\"ios-modal\",hideDuration:500,showDuration:500,showingState:{opacity:0.5},hiddenState:{opacity:0}}),offscreenPosition:function(){var b=this.get(\"currentWindowSize\")||{height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||2000};return Math.round(b.height+this.get(\"frame\").height/2+50)}.property(\"currentWindowSize\"),showingState:function(){var b=jQuery(document.body).css(\"overflow\")===\"hidden\";return b?{centerY:this.get(\"onscreenPosition\")}:{opacity:1}}.property(),hiddenState:function(){var b=jQuery(document.body).css(\"overflow\")===\"hidden\";return b?{centerY:this.get(\"offscreenPosition\")}:{opacity:0}}.property(),duration:function(){var b=jQuery(document.body).css(\"overflow\")===\"hidden\";return b?350:200}.property(),showTween:CW.Anim.tweens.QUADRATIC_OUT,hideTween:CW.Anim.tweens.QUADRATIC_IN,firstShowDelay:150,paneWillShow:function(){var b=jQuery(document.body).css(\"overflow\")===\"hidden\";if(b){this.adjust(\"opacity\",1)}else{this.adjust(\"centerY\",this.get(\"onscreenPosition\"))}},contentView:CW.NavigationView.design({navigationController:SteedOS.AccountSettings.navigationController,themeName:\"navigationViewSilverPanel\",layout:{top:0,left:0,right:0,bottom:0},wellViewClassType:SC.View,contentView:CW.NavigatableView.design({hasLeftBarButton:NO,hasRightBarButton:NO})})})});";
